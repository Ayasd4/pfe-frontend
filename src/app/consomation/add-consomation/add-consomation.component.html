<div class="dialog-container">
  <h2 class="dialog-title">{{ dialogTitle }}</h2>
  <form (ngSubmit)="onSubmit()" #consomationForm="ngForm">
    <div class="dialog-content">
      <div class="form-row">
        <div class="form-field">
          <label for="numPark">Park Number*</label>
          <select id="numPark" name="numPark" class="form-control" [(ngModel)]="consomation.numPark" required>
            <option *ngFor="let vehicule of vehicules" [ngValue]="vehicule.numparc">{{ vehicule.numparc }}</option>
          </select>
        </div>

        <div class="form-field">
          <label for="QteCarb">Fuel Quantity*</label>
          <input type="number" id="QteCarb" name="QteCarb" class="form-control" [(ngModel)]="consomation.QteCarb" required />
        </div>
      </div>

      <div class="form-row">
        <div class="form-field full-width">
          <label for="indexkilo">Kilometer Index*</label>
          <input type="number" id="indexkilo" name="indexkilo" class="form-control" [(ngModel)]="consomation.indexkilo" required />
        </div>
      </div>

      <div class="form-row">
        <div class="form-field full-width">
          <label for="dateDebut"> Date*</label>
          <input type="date" id="dateDebut" name="dateDebut" class="form-control" [(ngModel)]="consomation.dateDebut" required />
        </div>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label for="idChaff">Driver*</label>
          <select id="idChaff" name="idChaff" class="form-control" [(ngModel)]="consomation.idChaff" required>
            <option *ngFor="let chauffeur of chauffeurs" [ngValue]="chauffeur.id_chauf">
              {{ chauffeur.matricule_chauf }} - {{ chauffeur.nom }} {{ chauffeur.prenom }}
            </option>
          </select>
        </div>

        <div class="form-field">
          <label for="idAgence">Agency*</label>
          <select id="idAgence" name="idAgence" class="form-control" [(ngModel)]="consomation.idAgence" required>
            <option *ngFor="let agence of agences" [ngValue]="agence.id_agence">{{ agence.nom }}</option>
          </select>
        </div>
      </div>
    </div>

    <div class="dialog-actions">
      <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
      <button type="submit" class="btn btn-primary" [disabled]="!consomationForm.form.valid">
        {{ isEditMode ? 'Update' : 'Save' }}
      </button>
    </div>
  </form>
</div>
