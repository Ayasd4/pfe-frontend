<div class="container">
    <h2 style="text-align: center;" mat-dialog-title>{{ technicien.id_technicien ? 'Update' : 'Add' }} Technician</h2>

    <mat-dialog-content>
        <form #TechnicienForm="ngForm">

            <mat-form-field>
                <mat-label>First Name</mat-label>
                <input matInput [(ngModel)]="technicien.nom" name="nom" required>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Last Name</mat-label>
                <input matInput [(ngModel)]="technicien.prenom" name="prenom" required>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Technician Number</mat-label>
                <input matInput [(ngModel)]="technicien.matricule_techn" name="matricule_techn" required>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Identity Card</mat-label>
                <input matInput [(ngModel)]="technicien.cin" name="cin" required>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Phone Number</mat-label>
                <input matInput [(ngModel)]="technicien.telephone_techn" name="telephone_techn" required>
            </mat-form-field>

            <mat-form-field>
                <mat-label>E-mail</mat-label>
                <input matInput [(ngModel)]="technicien.email_techn" name="email_techn" required>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Speciality</mat-label>
                <mat-select matNativeControl [(ngModel)]="technicien.specialite" name="specialite" required>
                    <mat-option *ngFor="let specialite of specialiteDisponibles" [value]="specialite">
                        {{ specialite }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>date of employment</mat-label>
                <input matInput [matDatepicker]="picker" [(ngModel)]="technicien.date_embauche" name="date_embauche"
                    required><!--(dateChange)="getValidDate(demande.date_demande)" -->
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>

            <mat-form-field>
                <mat-label for="image" class="col-sm-2 col-form-label">Photo</mat-label>
                <input type="text" class="form-control" hidden matInput [(ngModel)]="technicien.image" name="image"
                    required>
                <app-file-uploader (onFileSelect)="onFileSelect($event)"></app-file-uploader>
                <div class="text-danger" *ngIf="uploadError">{{uploadError}}</div>
            </mat-form-field>

        </form>
    </mat-dialog-content>

    <div class="buton">
        <mat-dialog-content>
            <button mat-button (click)="dialogRef.close()">Cancel</button>
            <button mat-button color="primary" (click)="saveTechnicien(TechnicienForm)">Save</button>

        </mat-dialog-content>
    </div>
</div>